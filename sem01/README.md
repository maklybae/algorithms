# –°–µ–º–∏–Ω–∞—Ä 1

## –î–ó

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º

```cpp
void bubbleSort(std::vector<int>& arr) {
    size_t N = arr.size();
    for (size_t i = 0; i < N; ++i) {
        for (size_t j = 0; j < N - i - 1; ++j ) {
            if (arr[j] > arr[j + 1]) {
                std::swap(arr[j], arr[j + 1]);
            }
        }
    }
}
```

#### –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞

* **–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞:** –ø–æ–¥–º–∞—Å—Å–∏–≤ $\{arr[i] \mid  i \in (N - i - 1, N)\}$ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ $i$ –Ω–∞–∏–±–æ–ª—å—à–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è.
* **INIT:** –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞ $i = 0$, —Ç–æ–≥–¥–∞ $\{arr[i] \mid  i \in (N - 1, N)\} = \empty$ ‚Äì¬†–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥–º–∞—Å—Å–∏–≤ (—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π —Å–ª—É—á–∞–π)
* **MNT:** –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º —Ü–∏–∫–ª–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è $(i + 1)$-—ã–π –Ω–∞–∏–±–æ–ª—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–æ $arr[N - i - 1]$
  * *–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ü–∏–∫–ª–∞:* –ø–æ–¥–º–∞—Å—Å–∏–≤ $\{ arr[0], arr[1], \dots, arr[j] \}$ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ $\{ arr[0], arr[1], \dots, arr[j] \}$, –ø—Ä–∏—á–µ–º $\max(arr[0], arr[1], \dots, arr[j]) = arr[j]$
  * *inner INIT:* –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞ $j = 0$, —Ç–æ–≥–¥–∞ $\max(\{ arr[0] \}) = arr[0]$
  * *inner MNT:* –±–æ–ª—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–∞—Ä—ã –≤—Å–µ–≥–¥–∞ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–ø—Ä–∞–≤–µ–µ" –º–µ–Ω—å—à–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —ç—Ç–æ–π –ø–∞—Ä—ã. –ó–∞ —Å—á–µ—Ç —Ç–æ–≥–æ —á—Ç–æ –ø–∞—Ä—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ç–µ–∫—É—â–µ–π –ø–∞—Ä—ã ‚Äì –±–û–ª—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø–∞—Ä—ã, –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –±–æ–ª—å—à–∏–π —ç–ª–µ–º–µ–Ω—Ç –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º.
  * *inner TRM:* –ø—Ä–∏—á–∏–Ω–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ü–∏–∫–ª–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏—è $j < N - i - 1$. –¢–∞–∫ –∫–∞–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $j$ —É–≤–µ–ª–∏—á–∏–≤–∞–ª–∞—Å—å –Ω–∞ 1, —Ç–æ –≤ –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã —Ü–∏–∫–ª–∞ $j = N - i - 1$. –¢–æ–≥–¥–∞ $\max(arr[0], arr[1], \dots, arr[N - i - 1]) = arr[N - i - 1]$
  * –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç ($(i + 1)$-—ã–π –Ω–∞–∏–±–æ–ª—å—à–∏–π) –∑–∞–Ω–∏–º–∞–µ—Ç —Å–≤–æ–µ –º–µ—Å—Ç–æ –≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –º–∞—Å—Å–∏–≤–µ.
* **TRM:** –ø—Ä–∏—á–∏–Ω–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ü–∏–∫–ª–∞ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏—è $i < N$. –¢–∞–∫ –∫–∞–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è $i$ —É–≤–µ–ª–∏—á–∏–≤–∞–ª–∞—Å—å –Ω–∞ 1, —Ç–æ –≤ –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã —Ü–∏–∫–ª–∞ $i = N$. –¢–æ–≥–¥–∞ –ø–æ–¥–º–∞—Å—Å–∏–≤ $\{arr[i] \mid  i \in (N - i - 1, N)\} = \{arr[i] \mid  i \in (-1, N)\} = arr$ —Å–æ–¥–µ—Ä–∂–∏—Ç $i$ –Ω–∞–∏–±–æ–ª—å—à–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è, –∑–Ω–∞—á–∏—Ç –≤–µ—Å—å –º–∞—Å—Å–∏–≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è $\Rightarrow$ –∞–ª–≥–æ—Ä–∏—Ç–º –≤–µ—Ä–µ–Ω.


#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

> –ù–µ–±–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—Å—Å–∏–≤–∞ –ø–æ–∑–≤–æ–ª—è—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —É–∂–µ –Ω–µ –Ω—É–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
> 
> -- <cite>–ù–µ—Å—Ç–µ—Ä–æ–≤ –†–æ–º–∞–Ω –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á</cite>

##### –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤. –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –Ω–∞ –Ω–µ–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
–ö–∞–∫ –≤–æ–æ–±—â–µ –º–æ–∂–Ω–æ "–æ—Ç–ª–æ–≤–∏—Ç—å" –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤?

$arr.isSorted() \iff \forall i \in [0, N - 1) \colon arr[i] \le arr[i + 1]$

–ó–∞–º–µ—Ç–∏–º, —á—Ç–æ –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ –ø—Ä–∏ $i = 0$ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –∫–∞–∫ —Ä–∞–∑ –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏—è –≤—ã—à–µ, —Ç–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –ø—Ä–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–∞—Å—Å–∏–≤–µ —É—Å–ª–æ–≤–∏–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ $\operatorname{if}$ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å –Ω–∏ —Ä–∞–∑—É, —Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω.

–†–∞—Å—à–∏—Ä–∏–º –Ω–∞—à—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è $i$. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –ø–æ–¥–º–∞—Å—Å–∏–≤–∞ $\{ arr[0], arr[1], \dots, arr[N - i - 1] \}$. –ï—Å–ª–∏ –Ω–∞ –∫–∞–∫–æ–π-—Ç–æ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –æ–∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —É—Å–ª–æ–≤–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ $\operatorname{if}$ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å –Ω–∏ —Ä–∞–∑—É, —Ç–æ –ø–æ–¥–º–∞—Å—Å–∏–≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –∏–º–µ—é—Ç —Å–º—ã—Å–ª–∞.

```cpp
void optimizedBubbleSort(std::vector<int>& arr) {
    size_t N = arr.size();
    for (size_t i = 0; i < N; ++i) {
        bool sorted = true;
        for (size_t j = 0; j < N - i - 1; ++j ) {
            if (arr[j] > arr[j + 1]) {
                std::swap(arr[j], arr[j + 1]);
                sorted = false;
            }
        }
        if (sorted) {
            return;
        }
    }
}
```

##### –ß—Ç–æ –µ—â–µ –º–æ–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å?

–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º $i_{0}$ ($i_{0}$-—é –∏—Ç–µ—Ä–∞—Ü–∏—é). –î–æ–ø—É—Å—Ç–∏–º, —á—Ç–æ –Ω–∞ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ (—Ö–µ—Ö) —Ü–∏–∫–ª–∞ –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å —É—Å–ª–æ–≤–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ $\operatorname{if}$, –∑–∞–ø–æ–º–Ω–∏–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Ç–∞–∫–æ–µ $j$, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–æ—Å—å —É—Å–ª–æ–≤–∏–µ ‚Äì –ø—É—Å—Ç—å –ø—Ä–∏ $j=j_{0}$. –¢–æ–≥–¥–∞ –≤–µ—Ä–Ω–æ: $arr[j_0] < arr[j_0 + 1] \le arr[j_0 + 2] \le \dots \le arr[N - i_{0} - 1]$

![–º–∞—Å—Å–∏–≤](static/image1.jpg)

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞ ($i_{0} + 1$) –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º $arr[j_0], arr[j_0 + 1], \dots, arr[N - i_0]$, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —É–∂–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã.

```cpp
void optimizedBubbleSort(std::vector<int>& arr) {
    size_t N = arr.size();
    size_t j0 = N - 1;
    for (size_t i = 0; i < N; ++i) {
        size_t last_swap{};
        for (size_t j = 0; j < j0; ++j ) {
            if (arr[j] > arr[j + 1]) {
                std::swap(arr[j], arr[j + 1]);
                last_swap = j;
            }
        }
        j0 = last_swap; 
        if (!j0) {
            return;
        }
    }
}
```

### Shellsort

```c++
void shellSort(std::vector<int> arr) {
    size_t N = arr.size();
    for (size_t interval = N / 2; interval > 0; interval /= 2) {
        for (size_t i = interval; i < N; ++i) {
            int tmp = arr[i];
            for (size_t j = i; j >= interval && arr[j - interval] > tmp; j -= interval) {
                arr[j] = arr[j - interval];
            }
            arr[j] = tmp;
        }
    }
}
```

–ù–∏–∂–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –®–µ–ª–ª–æ–º, –¥–ª–∏–Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞.

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—É–¥—à–µ–≥–æ —Å–ª—É—á–∞—è

–ò–¥–µ—è Shellsort –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –º–∞—Å—Å–∏–≤ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —á–∏—Å–ª–æ –∫–æ—Ç–æ—Ä—ã—Ö —Å –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–µ–π —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –≤–¥–≤–æ–µ, –∞ –¥–ª–∏–Ω–∞ –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤–¥–≤–æ–µ (–ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å –Ω–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ). –ù–∞ –∫–∞–∂–¥–æ–π —Ç–∞–∫–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –º–∞—Å—Å–∏–≤ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤—Å—Ç–∞–≤–∫–∞–º–∏.

–ü—É—Å—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞ ‚Äì¬†$N$, —Ç–æ–≥–¥–∞ –ø—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º $N$ –ø—Ä–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–∏ –≤–Ω–∏–∑ –≤–æ –≤—Ä–µ–º—è –¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –Ω–∞ –¥–≤–∞ "–Ω–µ—è–≤–Ω–æ" –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–∏—è–Ω–∏–µ (merge) —Ç–∞–∫, —á—Ç–æ –æ–±—Ä–∞–∑—É–µ—Ç—Å—è —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤–∞—è –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–π –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –±—ã–ª–∏ —Å–æ–≤—Å–µ–º –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è—Ö ü§Ø.

–ü—Ä–∏–≤–µ–¥–µ–º –ø—Ä–∏–º–µ—Ä –¥–ª—è $N = 30$:
$$
(a_{1}, a_{16}), (a_{2}, a_{17}), \dots, (a_{15}, a_{30}) \\
(a_{1}, a_{8}, a_{15}, a_{22}, a_{29}), (a_{2}, a_{9}, a_{16}, a_{23}, a_{30}), \dots, (a_{7}, a_{14}, a_{21}, a_{28}) \\
(a_{1}, a_{4}, a_{7}, \dots, a_{28}), (a_{2}, a_{5}, a_{8}, \dots, a_{29}), (a_{3}, a_{6}, a_{9}, \dots, a_{30}) \\
(a_{1}, a_{2}, a_{3}, \dots, a_{30})
$$

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ª—É—á–∞–π –ø—Ä–∏ $N = 2^m, m \in \mathbb{N}$: —ç—Ç–æ—Ç —Å–ª—É—á–∞–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Ç–µ–º, —á—Ç–æ –Ω–∞ –∫–∞–∂–¥–æ–π (–∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π) –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤ –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∏–º–µ—é—â–∏—Ö —á–µ—Ç–Ω—ã–π –Ω–æ–º–µ—Ä, –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∏–º–µ—é—â–∏—Ö –Ω–µ—á–µ—Ç–Ω—ã–π –Ω–æ–º–µ—Ä. –ü—Ä–∏—á–µ–º –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–∏—è–Ω–∏–µ —Ä–æ–≤–Ω–æ –¥–≤—É—Ö –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º —à–∞–≥–µ, –≤ –æ–¥–Ω—É.

–ü—Ä–∏–≤–µ–¥–µ–º –ø—Ä–∏–º–µ—Ä –¥–ª—è $N = 2^{5} = 32$:
$$
(a_{1}, a_{17}), (a_{2}, a_{18}), (a_{3}, a_{19}), \dots, (a_{16}, a_{32}) \\
(a_{1}, a_{9}, a_{17}, a_{25}), (a_{2}, a_{10}, a_{18}, a_{26}), \dots, (a_{8}, a_{16}, a_{24}, a_{32}) \\
(a_{1}, a_{5}, a_{9}, \dots, a_{29}), (a_{2}, a_{6}, a_{10}, \dots, a_{30}), (a_{3}, a_{7}, a_{11}, \dots, a_{31}),  (a_{4}, a_{8}, a_{12}, \dots, a_{32}) \\
(a_{1}, a_{3}, a_{5}, \dots, a_{31}), (a_{2}, a_{4}, a_{6}, \dots, a_{32}) \\
(a_{1}, a_{2}, a_{3}, \dots, a_{32})
$$

–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–¥–æ–±—Ä–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–∫, —á—Ç–æ –∫–∞–∂–¥—ã–π —à–∞–≥ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –≤—Å—Ç–∞–≤–∫–∞–º–∏ –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞—Ö –¥–æ—Å—Ç–∏–≥–∞–ª —Å–≤–æ–µ–≥–æ —Ö—É–¥—à–µ–≥–æ —Å–ª—É—á–∞—è. –û–¥–Ω–∞–∫–æ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–∏—è–Ω–∏–µ —É–∂–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π, –ø–æ—ç—Ç–æ–º—É —Ö—É–¥—à–∏–π —Å–ª—É—á–∞–π –≤—ã–≥–ª—è–¥–∏—Ç –≤–æ—Ç —Ç–∞–∫ (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª–∏–Ω—ã $4$):

![animation](static/animation.gif)

–í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–∫–æ–π –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª–∏–Ω—ã $n$ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ $1 + 2 + \dots + \frac{n}{2}$ —à–∞–≥–æ–≤.

$$
1 + 2 + \dots + \frac{n}{2} = \frac{1 + \frac{n}{2}}{2} \cdot \frac{n}{2} = \frac{n + \frac{n^2}{2}}{4}
$$

–ò–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ —Ö–æ—Ç–∏–º –¥–æ—Å—Ç–∏—á—å –Ω–∞ –∫–∞–∂–¥–æ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ –∏ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–æ–¥–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

–ú–µ—Ç–æ–¥–æ–º "–æ—Ç –ø—Ä–æ—Ç–∏–≤–Ω–æ–≥–æ" –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ç–∞–∫—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è $N = 2^3 = 8$:

$$
a = \{ 8, 4, 6, 2, 7, 3, 5, 1 \}
$$

–ü–æ—Å—á–∏—Ç–∞–µ–º $T(N)$ –ø—Ä–∏ —ç—Ç–æ–º –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –æ–ø—É—Å—Ç–∏–º –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π (—ç—Ç–æ –±—É–¥—É—Ç –ª–∏—à—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞ —Ä–æ—Å—Ç–∞):

$$
T(N) = \sum_{i = 1}^{\log{N}} \left( \frac{N}{2^i} \cdot \frac{2^i + \frac{(2^i)^2}{2}}{4} \right) =
\sum_{i = 1}^{\log{N}} \left( N \cdot \frac{1 + 2^{i-1}}{4} \right) =
\frac{1}{4} N \cdot \sum_{i = 1}^{\log{N}} \left( 1 + 2^{i-1} \right) = \\
\frac{1}{4} N \cdot \left( \log{N} + \sum_{i = 1}^{\log N} 2^{i - 1} \right) =
\frac{1}{4} N \cdot \left( \log{N} + N - 1 \right)
$$

–¢–æ–≥–¥–∞ $T(N) = \Theta(N^2)$
